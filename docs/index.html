<!DOCTYPE html>

<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>应用下载跳转</title>
      
    <script type="text/javascript">
        function detectOSAndBrand() {
            const userAgent = navigator.userAgent.toLowerCase();
            let appStoreUrl;
          
            const targetUrl = 'https://m.malink.cn/s/muQryi';
            const deviceInfo=getDeviceDetails（）;
            if (userAgent.indexOf('android') > -1) {
                 alert(`设备信息${deviceInfo}`);
                // Android 设备，检测手机品牌
                if (userAgent.indexOf('xiaomi') > -1 || userAgent.indexOf('huawei') > -1 || userAgent.indexOf('oppo') > -1 || userAgent.indexOf('vivo') > -1) {
                    // 小米、华为、OPPO、VIVO 设备跳转到指定链接
                    appStoreUrl = targetUrl;
                } else {
                    // 其他 Android 设备默认尝试打开已安装的应用市场
                    appStoreUrl = `market://details?id=com.xallking.smart`;
                    try {
                        // 尝试启动应用市场
                        window.location.href = appStoreUrl;
                    } catch (e) {
                        // 若失败，跳转至 Google Play
                        appStoreUrl = `https://play.google.com/store/apps/details?id=com.example.androidapp`;
                    }
                }
                window.location.href = appStoreUrl;
            } else if (userAgent.indexOf('iphone') > -1 || userAgent.indexOf('ipad') > -1) {
                // iOS 设备，跳转到 App Store
                appStoreUrl = 'https://apps.apple.com/cn/app/id6743309629';
                window.location.href = appStoreUrl;
            } else {
                // 其他设备，可提示用户在手机上访问
                alert('请在手机上访问此页面进行 App 下载。');
                return;
            }
        }
function getDeviceInfo() {
    var ua = navigator.userAgent, tem, 
        M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
    var trident = M[4] == "Trident";
    if(/trident/i.test(M[4])){
        M = ua.match(/(msie|firefox)\/?\s*(\d+)/i) || [];
        tem = M[1] == "msie";
        M[1] = (tem ? eval('/*@cc_on@_jscript_version/*') : undefined) || "Trident" + 
               [M[2], "0"][0];
    }
    M = M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, "-?"];
    if((tem = ua.match(/version\/(\d+)/i)) != null) M.splice(1, 1, tem[1]);
    var deviceInfo = {
        browser: [M[0]],
        version: M[1]
    };
    return deviceInfo;
}
function getDeviceDetails() {
    var ua = navigator.userAgent;
    var deviceInfo = getDeviceInfo();
    var deviceDetails = {
        browser: deviceInfo.browser,
        version: deviceInfo.version,
        os: '',
        model: ''
    };
    if (/iphone|ipad|ipod/.test(ua)) {
        deviceDetails.os = 'iOS';
        deviceDetails.model = ua.match(/cpu (?:iphone )?os (\d+_?\d+)/i)[0].replace(/_/g, '.').replace(/cpu os /i, "");
    } else if (/android/.test(ua)) {
        deviceDetails.os = 'Android';
        deviceDetails.model = ua.match(/android [\d.-]+; [\w\s]+[\w](?:build\/([^\s]+)\b|;)/i)[0].replace(/android /i, "").replace(";", "");
    } else if (/windows phone/i.test(ua)) {
        deviceDetails.os = 'Windows Phone';
        deviceDetails.model = ua.match(/windows phone (?:os )?(\d+(\.\d+)*)/i)[0].replace("windows phone ", "");
    } else if (/blackberry/i.test(ua)) {
        deviceDetails.os = 'BlackBerry';
        deviceDetails.model = ua.match(/blackberry[\d\w]+\/(\d+(\.\d+)*)/i)[0].replace("blackberry", "");
    } else {
        deviceDetails.os = 'Unknown';
        deviceDetails.model = 'Unknown';
    }
    return deviceDetails;
}
        // 页面加载完成后执行检测和跳转
        window.onload = detectOSAndBrand;
    </script>
</head>
<body>
    <!-- 可以添加一些提示信息，当脚本无法执行时显示 -->
    <p>如果页面没有自动跳转，请手动在手机应用市场搜索骁骑电竞。</p>
</body>
</html>
