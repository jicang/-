<!DOCTYPE html>

<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>应用下载跳转</title>
         <style>
        body {
            background-color: #FFF000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        #logo {
            max-width: 100%;
            max-height: 80vh;
        }
    </style>
<body>
    <!-- 可以添加一些提示信息，当脚本无法执行时显示 -->
   <img id="logo" src="xallking_logo.png" alt="骁骑电竞 Logo">
     <p>如果页面没有自动跳转或者应用商店未找到骁骑电竞APP，请手动点击下方按钮下载骁骑电竞</p>
     <!-- 添加按钮 -->
     <button id="downloadButton">手动下载骁骑电竞</button>
</body>

    <script type="text/javascript">
        
        function detectOSAndBrand() {
            const userAgent = navigator.userAgent.toLowerCase();
            let appStoreUrl;
          
            const targetUrl = 'https://m.malink.cn/s/muQryi';
        
            
            if (userAgent.indexOf('android') > -1) {
               
                // Android 设备，检测手机品牌
                if (userAgent.indexOf('xiaomi') > -1 ) {
                    // 小米、华为、OPPO、VIVO 设备跳转到指定链接
                    appStoreUrl = targetUrl;
                } else {
                    // 其他 Android 设备默认尝试打开已安装的应用市场
                    appStoreUrl = `market://details?id=com.xallking.smart`;
                    try {
                        // 尝试启动应用市场
                        window.location.href = appStoreUrl;
                    } catch (e) {
                        // 若失败，跳转至 Google Play
                        appStoreUrl = `https://play.google.com/store/apps/details?id=com.xallking.smart`;
                    }
                }
                
                window.location.href = appStoreUrl;
            } else if (userAgent.indexOf('iphone') > -1 || userAgent.indexOf('ipad') > -1) {
                // iOS 设备，跳转到 App Store
                appStoreUrl = 'https://apps.apple.com/cn/app/id6743309629';
                window.location.href = appStoreUrl;
            } else {
                // 其他设备，可提示用户在手机上访问
                alert('请在手机上访问此页面进行 App 下载。');
                return;
            }
            const downloadButton = document.getElementById('downloadButton');
             if (downloadButton) {
                 downloadButton.addEventListener('click', function() {
                     window.location.href =`https://a.app.qq.com/o/simple.jsp?pkgname=com.xallking.smart`;
                 });
             }
        }

        // 页面加载完成后执行检测和跳转
        window.onload = detectOSAndBrand;
    </script>
</head>

</html>
